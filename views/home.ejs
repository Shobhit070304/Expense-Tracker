<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body>
    <div
      class="body w-full min-h-screen bg-zinc-900 text-white flex justify-center items-center"
    >
      <div class="box w-192 p-5">
        <div class="basic mb-8">
          <h1
            class="text-6xl font-semibold w-full text-center my-10 text-zinc-400"
          >
            $<%= total %>
          </h1>
          <form action="/transaction" method="post">
            <div class="flex gap-2 mb-2">
              <input
                class="w-full px-2 py-2 border-2 rounded-md border-zinc-700 bg-transparent text-white outline-none"
                type="text"
                placeholder="+200 new samesung TV"
                name="name"
              />
              <input
                class="w-full px-2 py-2 border-2 rounded-md border-zinc-700 bg-transparent text-white outline-none"
                type="date"
                name="date"
              />
            </div>
            <div>
              <input
                class="w-full px-2 py-2 rounded-md border-2 border-zinc-700 bg-transparent text-white mb-3 outline-none"
                type="text"
                placeholder="enter amount"
                name="amount"
              />
              <input
                class="w-full px-2 py-2 rounded-md border-2 border-zinc-700 bg-transparent text-white mb-3 outline-none"
                type="text"
                placeholder="description"
                name="description"
              />
              <input
                class="w-full px-2 py-2 rounded-md bg-blue-500 text-white mb-2"
                type="submit"
                value="Add new transaction"
              />
            </div>
          </form>
        </div>

        <div class="transactions">
          <% if(transactions.length> 0) {%> <%
          transactions.forEach(function(transaction) { %>
          <div class="transaction w-full flex justify-between py-2 border-t-2 border-zinc-800">
            <div class="transaction-left">
              <p class="text-xl"><%= transaction.name %></p>
              <p class="text-gray-500"><%= transaction.description %></p>
            </div>
            <div class="transaction-right text-right">
              <% if(transaction.amount[0] === '-') { %>
              <p class="text-red-500 text-xl">-$<%= transaction.amount.slice(1) %> </p>

              <%}else{ %>
              <p class="text-xl text-green-500">$<%= transaction.amount %> </p>

              <% }%>

              <p><%= transaction.date %></p>
            </div>
          </div>

          <% }); %> <% } else{ %>
          <h2>No Transactions</h2>
          <% } %>
        </div>
      </div>
    </div>




  </body>
</html>
